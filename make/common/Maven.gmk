mvn += JAVA_HOME=$(java_home)
mvn += /opt/maven/bin/mvn

ifdef VERBOSE
  mvn += -X
endif

mvn_package += $(mvn)
mvn_package += package
mvn_package += -DskipTests
sources += $(shell find $(APP)/src -type f -name '*.java' | sed 's: :\\ :g')
sources += $(shell find $(APP)/src -type f -name '*.properties' | sed 's: :\\ :g')
target = $(APP)/target

$(jar): $(pom) $(sources)
> cd $(APP)
> $(mvn_package)

clean:
> rm -drf $(target)
.PHONY: clean
